<!--
* File:         button-form.component.html
* Author:       Brennan Saul
* Description:  The html template for the button-form component

* Edit history:
*
* Editor			Date				Description
* ======			========		===========
* Saul			  03/16/17		updated
* Saul        03/21/17    Self sufficient adding to the Db
-->


<!-- #form defines a template reference variable: now we can easily
reference the form using the form variable. then bind to the ngForm
directive-->

<!-- submit: submits and refreshes the page -->
<!-- ngSubmit: does not refresh tht page -->
<form #form=ngForm (ngSubmit)="onSubmit()" *ngIf="active">
  <!-- macAddr Address -->
  <div class="form-group" [ngClass]="{ 'has-error': macAddr.invalid && macAddr.touched }">
    <label for="macAddr">Button MAC Address</label>
    <input type="text" class="form-control" name="macAddr" required
    [(ngModel)]="newButton.macAddr" #macAddr="ngModel" placeholder="macAddr">

    <!-- Shows "Required" if macAddr field is empty & been touched -->
    <span style="color:red" class="help-block"
    *ngIf="macAddr.invalid && macAddr.touched"> Required </span>
  </div>

  <!-- buttonDescription field -->
  <div class="form-group" [ngClass]="{ 'has-error': buttonDescription.invalid && buttonDescription.touched }">
  <label for="buttonDescription">Description</label>
    <input type="text" class="form-control" name="buttonDescription" required
    [(ngModel)]="newButton.buttonDescription" #buttonDescription="ngModel" placeholder="Description:">

    <!-- Shows "Required" if buttonDescription field is empty -->
    <span style="color:red" class="help-block"
    *ngIf="buttonDescription.invalid && buttonDescription.touched"> Required </span>
  </div>

  <!-- Button is disabled if form=invaild & been touched -->
  <button type="button" (click)="addButton(newButton.macAddr, newButton.buttonDescription)" class="btn btn-lg btn-block btn-primary"
  [disabled]="form.invalid">
    Add Button
  </button>
